<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="Kaltura Wave"
               height="370"
               author="papyromancer"
               author_email="papyromancer@lightcorp.net">
    <Require feature="wave" />
    <Require feature="dynamic-height" />
    <Require feature="tabs" />
    <Require feature="flash" />
  </ModulePrefs>
  <Content type="html">
    <![CDATA[
      <div id="player" style="display:none">
        Player Goes Here
        <div id="kplayer"></div>
      </div>
      <div id="editor"style="display:none">Editor Goes Here</div>
      <div id="media_adder" style="display:none">Media Management Goes Here</div>
      
      <script type="text/javascript">
        // Set Player as default tab
        var tabs = new gadgets.TabSet(__MODULE_ID__, "Play");
        function init() {
          // Define Tabs
          tabs.addTab("Play", {
                              contentContainer: document.getElementById("player")
                              });
          tabs.addTab("Edit", {
                              contentContainer: document.getElementById("editor")
                              });
          tabs.addTab("Add Media", {
                              contentContainer: document.getElementById("media_adder")
                              });
        };
        // Call init function to initialize and display tabs.
        gadgets.util.registerOnLoadHandler(init);

        // Set Variables for kplayer
        var kparams = {
                      allowscriptaccess: "always",
                      allownetworking: "all",
                      allowfullscreen: "true",
                      wmode: "opaque"
                      };
        var kflashVars = {
                      entryId: "hsgxym7h34"
                      };
        // embed kplayer
        gadgets.flash.embedFlash("http://www.kaltura.com/kwidget/wid/_39061/ui_conf_id/1008311", "kplayer", {"400", "360", "9.0.0", false, kflashVars, kparams});
      </script>
    ]]>
  </Content>
</Module>
